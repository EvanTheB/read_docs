Module 3: Register Source Samples
*********************************


Part 1
======

This is the first (of 3) sample registration stages. See module 1_ if you do not know where to access these forms.

1. First, go and get your spreadsheet template. This option takes you to the next webform, but you can come back to this first webform at the end to upload your prepared spreadsheet template (step 4).

.. image:: images/mod_03_p01_a.png

.. image:: images/mod_03_p01_b.png


2. Find a checklist that suits your type of sample. A checklist comprises of a list of attributes that are required to annotate your samples. A well annotated sample is more searchable in the ENA browser and your data will get more exposure.
3. Now move on to (`Part 2`_) to create the sample template.  
4. (step 4 is in the previous image) Use this option if you have created your samples as a spreadsheet file from a previous session. When you upload the completed spreadsheet the service will jump you to (`Part 3`_) and it will have used the spreadsheet you auto-populate the webform.

.. _1: mod_01.html

Part 2
======

.. image:: images/mod_03_p02_a.png

|

.. image:: images/mod_03_p02_b.png


This is the second (of 3) sample registration stages.

1. Take a look at the list of attributes. Some will be mandatory, others are recommended. Every checked item in the list appears as a field in the webform `Part 3`_ or as a column in the spreadsheet file that you can download in step 3 below. Please select or deselect the fields as appropriate. Remember that the more fields you can provide the more you are enabling your users to make accurate interpretations of your study.
2. You can create additional attributes that do not exist in the checklist. However in most cases you should find what you need among the default checklist fields.
3. The download template button will download a tab separated file which you can open using a spreadsheet program. It is highly recommended to use this to register your samples. Each row represents an individual sample. Please do not edit or remove the lines marked with hash ‘#’ and do not change the order of the columns as this will impede the re upload of the spreadsheet into the web form. Begin filling in the first sample on the first row available starting with the unique id (column 1). The unique id/alias does not have to be descriptive (you can use sample title and sample description columns for this) and it should preferably be memorable and short because you may need this id to reference the sample later, when adding other objects to it (such as NGS read files/run objects).
4. Step 4 is in parenthesis because in most cases you fill in the spreadsheet (from step 3 above) offline and log in again after you have completed it, in which case you would not reach step 4. The completed spreadsheet is loaded to the previous sample registration form (`Part 1`_ step 2) and from there you will jump to `Part 3`_. Alternatively you can go through step 4 and step 5 below to fill in some of the fields via webform. This is useful for the taxonomic columns because you can make use of the look up function of the webform. You can also find what each of the fields mean and how to fill them in and you will still get a chance to download as a spreadsheet later on.
5. This web form represents all samples as a template. Because this form represents all samples it is only worth entering fields that are consistent with all the samples. Also use the web form to look up taxonomic classifications which you will use later. Start typing your organism name to see the suggestions. Note that environmental taxonomic classifications can look like “soil metagenome” as opposed to a specific organism scientific name. You can also use the ‘i’ symbols to read definitions for each field, as well as checking the drop down options for the fields that have a controlled vocabulary (red asterisk *).



Part 3
======

.. image:: images/mod_03_p03.png

This is the final (of 3) sample registration forms.  This form appears after uploading a spreadsheet into the form in `Part 1`_ step 3, or directly from the form in `Part 2`_ if you have not used a the spreadsheet file and intend to type directly into the webform

1. If you have uploaded a spreadsheet file, the number of rows correspond to the number of samples (you can skip this step). If you have not used a spreadsheet you can specify how many samples are going to be added to this webform (they will be partially filled out using the template that you set up from the previous webform).
2. These basic sample details may already be filled from the uploaded spreadsheet. If not you will notice that the webform has provided unique names for each sample but if you did not provide a prefix in the previous form they will be named 1 to n, so you should change these and make them more meaningful! You are looking at a single sample in this webform (and its annotation values), to move between the other samples in this submission use the buttons in step 3. 
3. The samples are loaded into the webform with these 2 buttons. You can check each one in the list (which is on the left, step 5) by using these buttons to navigate one sample at a time.
4. Check if any fields are not accepted by the webform (where you see a red exclamation mark). Your values may not be valid because some fields are controlled. Use the 'i' symbols (hover the mouse pointer over them) to find out how a field should be filled out correctly.
5. This table is a summary of all samples. It can be large but you can move through the pages using the arrows (red asterisk in image). If all fields in a sample are accepted by the webform you will see a green tick next to the sample name. If there are any exclamation marks in a red circle (as with 'soil_1' in the example image), navigate to the sample in question (or click on that row in the table) and go back to step 4 to correct the invalid fields. If it is easier to correct the samples in your offline spreadsheet, do so and use the ‘previous’ button (red $ in image) a few times to go back to the first form where you can remove the uploaded file and replace it with a fresh version. 
6. Click submit if all samples in the table are validate (previous step). Webin will deliver accessions for each sample unless there is some problem/error. If there is an error you can go back to step 5 to correct the errors and then try again. If accessions are delivered, the samples are now in the ENA database. They will not be affiliated with any data or other objects. That happens in subsequent rounds of submissions. For the moment they are ‘free’.

